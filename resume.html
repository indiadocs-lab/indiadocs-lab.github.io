<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IndiaDocs Lab - Resume Builder</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">IndiaDocs Lab</div>
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="index.html">Resume Builder</a></li>
                <li><a href="privacy.html">Privacy Policy</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
        <!-- Google AdSense Top Banner Placeholder -->
        <div class="ads-banner">Google AdSense Banner Ad</div>
    </header>

    <main>
        <section id="builder">
            <h1>Build Your Professional Resume</h1>
            <form id="resumeForm">
                <div class="form-group">
                    <label for="fullName">Full Name *</label>
                    <input type="text" id="fullName" required>
                </div>
                <div class="form-group">
                    <label for="mobile">Mobile Number *</label>
                    <input type="tel" id="mobile" required>
                </div>
                <div class="form-group">
                    <label for="email">Email *</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="address">Address *</label>
                    <textarea id="address" required></textarea>
                </div>
                <div class="form-group">
                    <label for="objective">Career Objective *</label>
                    <textarea id="objective" required></textarea>
                </div>
                <div class="form-group">
                    <label for="skills">Skills (comma-separated) *</label>
                    <input type="text" id="skills" placeholder="e.g., JavaScript, Python, React" required>
                </div>
                <div class="form-group">
                    <label>Experience</label>
                    <div id="experienceContainer">
                        <div class="experience-item">
                            <input type="text" placeholder="Company Name" class="company">
                            <input type="text" placeholder="Role" class="role">
                            <input type="text" placeholder="Years (e.g., 2020-2023)" class="years">
                        </div>
                    </div>
                    <button type="button" id="addExperience">Add Experience</button>
                </div>
                <div class="form-group">
                    <label>Education</label>
                    <div class="education-item">
                        <input type="text" placeholder="10th Details" id="tenth">
                        <input type="text" placeholder="12th Details" id="twelfth">
                        <input type="text" placeholder="Graduation" id="graduation">
                    </div>
                </div>
                <div class="form-group">
                    <label for="projects">Projects (optional)</label>
                    <textarea id="projects"></textarea>
                </div>
                <div class="form-group">
                    <label for="languages">Languages *</label>
                    <input type="text" id="languages" placeholder="e.g., English, Hindi" required>
                </div>
                <div class="form-group">
                    <label for="hobbies">Hobbies *</label>
                    <input type="text" id="hobbies" placeholder="e.g., Reading, Traveling" required>
                </div>
                <div class="form-group">
                    <label for="photo">Profile Photo</label>
                    <input type="file" id="photo" accept="image/*">
                </div>
                <button type="submit">Generate Resume</button>
            </form>
        </section>

        <section id="preview" class="blurred">
            <h2>Resume Preview</h2>
            <div id="resumeOutput">
                <!-- Resume content will be generated here -->
            </div>
            <button id="downloadPdf" disabled>Download PDF (₹50)</button>
            <div id="loading" style="display: none;">Generating PDF...</div>
        </section>
    </main>

    <footer>
        <!-- Google AdSense Footer Ad Placeholder -->
        <div class="ads-footer">Google AdSense Footer Ad</div>
        <p>&copy; 2023 IndiaDocs Lab. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>

<!-- Placeholder for other pages (create separate files like home.html, privacy.html, contact.html) -->
<!-- home.html: <h1>Welcome to IndiaDocs Lab</h1><p>Build professional resumes easily.</p> -->
<!-- privacy.html: <h1>Privacy Policy</h1><p>We respect your privacy...</p> -->
<!-- contact.html: <h1>Contact Us</h1><p>Email: support@indiadocs-lab.github.io</p> -->                                                                                                    /* Global Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Arial', sans-serif;
}

body {
    line-height: 1.6;
    color: #333;
    background-color: #f4f4f4;
}

header {
    background: #007bff;
    color: white;
    padding: 1rem;
    text-align: center;
}

nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-size: 1.5rem;
    font-weight: bold;
}

nav ul {
    list-style: none;
    display: flex;
}

nav ul li {
    margin-left: 1rem;
}

nav a {
    color: white;
    text-decoration: none;
}

.ads-banner, .ads-footer {
    margin: 1rem 0;
    padding: 1rem;
    background: #ddd;
    text-align: center;
    border: 1px solid #ccc;
}

main {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
}

#builder {
    background: white;
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    margin-bottom: 2rem;
}

.form-group {
    margin-bottom: 1rem;
}

label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: bold;
}

input, textarea {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid #ccc;
    border-radius: 4px;
}

button {
    background: #007bff;
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
}

button:hover {
    background: #0056b3;
}

#preview {
    background: white;
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.blurred {
    filter: blur(5px);
    pointer-events: none;
}

#resumeOutput {
    border: 1px solid #ccc;
    padding: 1rem;
    background: white;
    font-size: 0.9rem;
}

#resumeOutput h3 {
    margin-bottom: 0.5rem;
    font-weight: bold;
}

footer {
    text-align: center;
    padding: 1rem;
    background: #333;
    color: white;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    nav {
        flex-direction: column;
    }
    nav ul {
        margin-top: 1rem;
    }
    main {
        padding: 1rem;
    }
    #builder, #preview {
        padding: 1rem;
    }
}                                                                                                                                                                                          // Disable right-click and text selection on resume preview
document.addEventListener('contextmenu', e => {
    if (e.target.closest('#resumeOutput')) e.preventDefault();
});
document.addEventListener('selectstart', e => {
    if (e.target.closest('#resumeOutput')) e.preventDefault();
});

// Form handling and resume generation
document.getElementById('resumeForm').addEventListener('submit', function(e) {
    e.preventDefault();
    if (!validateForm()) return;

    generateResume();
    document.getElementById('preview').scrollIntoView();
});

function validateForm() {
    const requiredFields = ['fullName', 'mobile', 'email', 'address', 'objective', 'skills', 'languages', 'hobbies'];
    let valid = true;
    requiredFields.forEach(id => {
        const el = document.getElementById(id);
        if (!el.value.trim()) {
            el.style.borderColor = 'red';
            valid = false;
        } else {
            el.style.borderColor = '#ccc';
        }
    });
    if (!valid) alert('Please fill all required fields.');
    return valid;
}

function generateResume() {
    const data = {
        fullName: document.getElementById('fullName').value,
        mobile: document.getElementById('mobile').value,
        email: document.getElementById('email').value,
        address: document.getElementById('address').value,
        objective: document.getElementById('objective').value,
        skills: document.getElementById('skills').value.split(',').map(s => s.trim()),
        experience: Array.from(document.querySelectorAll('.experience-item')).map(item => ({
            company: item.querySelector('.company').value,
            role: item.querySelector('.role').value,
            years: item.querySelector('.years').value
        })),
        education: {
            tenth: document.getElementById('tenth').value,
            twelfth: document.getElementById('twelfth').value,
            graduation: document.getElementById('graduation').value
        },
        projects: document.getElementById('projects').value,
        languages: document.getElementById('languages').value,
        hobbies: document.getElementById('hobbies').value,
        photo: document.getElementById('photo').files[0] ? URL.createObjectURL(document.getElementById('photo').files[0]) : null
    };

    const output = document.getElementById('resumeOutput');
    output.innerHTML = `
        <div style="text-align: center; margin-bottom: 1rem;">
            <h1 style="font-size: 2rem; font-weight: bold;">${data.fullName}</h1>
            <p>${data.mobile} | ${data.email} | ${data.address}</p>
            ${data.photo ? `<img src="${data.photo}" alt="Profile" style="width: 100px; height: 100px; border-radius: 50%; margin: 1rem;">` : ''}
        </div>
        <h3>Objective</h3>
        <p>${data.objective}</p>
        <h3>Skills</h3>
        <ul>${data.skills.map(s => `<li>${s}</li>`).join('')}</ul>
        <h3>Experience</h3>
        ${data.experience.map(exp => `<p><strong>${exp.company}</strong> - ${exp.role} (${exp.years})</p>`).join('')}
        <h3>Education</h3>
        <p>10th: ${data.education.tenth}</p>
        <p>12th: ${data.education.twelfth}</p>
        <p>Graduation: ${data.education.graduation}</p>
        ${data.projects ? `<h3>Projects</h3><p>${data.projects}</p>` : ''}
        <h3>Languages</h3>
        <p>${data.languages}</p>
        <h3>Hobbies</h3>
        <p>${data.hobbies}</p>
        <div style="position: absolute; bottom: 10px; right: 10px; font-size: 0.8rem; color: #999; transform: rotate(-45deg);">Generated from IndiaDocs Lab</div>
    `;
}

// Add experience dynamically
document.getElementById('addExperience').addEventListener('click', function() {
    const container = document.getElementById('experienceContainer');
    const item = document.createElement('div');
    item.className = 'experience-item';
    item.innerHTML = `
        <input type="text" placeholder="Company Name" class="company">
        <input type="text" placeholder="Role" class="role">
        <input type="text" placeholder="Years" class="years">
    `;
    container.appendChild(item);
});

// Payment and PDF download
let paymentDone = false;
document.getElementById('downloadPdf').addEventListener('click', function() {
    if (!paymentDone) {
        initiatePayment();
    } else {
        generatePdf();
    }
});

function initiatePayment() {
    const options = {
        key: 'rzp_test_YourTestKeyHere', // Replace with your Razorpay test key
        amount: 5000, // ₹50 in paisa
        currency: 'INR',
        name: 'IndiaDocs Lab',
        description: 'Resume PDF Download',
        handler: function(response) {
            paymentDone = true;
            document.getElementById('preview').classList.remove('blurred');
            document.getElementById('downloadPdf').disabled = false;
            document.getElementById('downloadPdf').textContent = 'Download PDF';
            alert('Payment successful! You can now download your resume.');
        },
        prefill: {
            email: document.getElementById('email').value,
            contact: document.getElementById('mobile').value
        },
        theme: { color: '#007bff' }
    };
    const rzp = new Razorpay(options);
    rzp.open();
}

function generatePdf() {
    const element = document.getElementById('resumeOutput');
    const loading = document.getElementById('loading');
    loading.style.display = 'block';
    const opt = {
        margin: 1,
        filename: 'indiadocs_resume.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
    };
    html2pdf().set(opt).from(element).save().then(() => {
        loading.style.display = 'none';
    });
}
